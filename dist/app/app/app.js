angular.module("exampleApp",["ngResource","ngRoute","ui.bootstrap"]),angular.module("exampleApp").factory("Fruit",function(){function a(a){var b=a.name,c=a.origin,d=a.unit,e=parseInt(100*a.price);this.getName=function(){return b},this.getOrigin=function(){return c},this.getUnit=function(){return d},this.getPrice=function(){return e/100},this.fruitName=this.getName()}return a}),angular.module("exampleApp").service("FruitManager",["$q","Fruit",function(a,b){var c=[],d=[],e=!1,f=[{name:"Banana",origin:"India",price:1.99,unit:"pound"},{name:"Mango",origin:"Thailand",price:.3212,unit:"piece"},{name:"Lemon",origin:"China",price:.49,unit:"piece"},{name:"Tomato",origin:"US",price:1.75,unit:"pound"},{name:"Chilli Pepper",origin:"US",price:1.75,unit:"pound"},{name:"Pumpkin",origin:"US",price:1.75,unit:"pound"},{name:"Grapefruit",origin:"US",price:1.75,unit:"pound"},{name:"Apple",origin:"US",price:1.75,unit:"pound"},{name:"Strawberry",origin:"US",price:1.75,unit:"pound"}],g=function(a){for(var c=[],d=0;d<a.length;d++){var e=new b(a[d]);c.push(e)}return c},h=function(){return e=!0,d.length>0?(e=!1,d):(d=g(f),e=!1,d)};h(),this.selectedFruits=function(){return c},this.availableFruits=function(){return d},this.isLoadingFruits=function(){return e},this.selectFruit=function(a){console.log("fruitmgr: select Fruit:"+a.getName()),c.push(a),d=_.reject(d,function(b){return b.getName()===a.getName()})},this.removeFruit=function(a){console.log("fruitmgr: remvoving Fruit:"+a.getName()),d.push(a),c=_.reject(c,function(b){return b.getName()===a.getName()})}}]),angular.module("exampleApp").controller("SearchCtrl",["$scope","FruitManager",function(a,b){a.manager=b,a.selectFruit=function(b){a.manager.selectFruit(b)}}]),angular.module("exampleApp").directive("bpSearch",function(){return{controller:"SearchCtrl",templateUrl:"components/search/search.html",restrict:"E"}}),angular.module("exampleApp").controller("SelectionCtrl",["$scope","FruitManager",function(a,b){a.manager=b,a.removeFruit=function(b){a.manager.removeFruit(b)},a.isRightIndex=function(a){return a%2}}]),angular.module("exampleApp").directive("bpSelection",function(){return{controller:"SelectionCtrl",templateUrl:"components/selection/selection-list.html",restrict:"E"}}),angular.module("angular-boilerplate").run(["$templateCache",function(a){"use strict";a.put("components/header/header.html","<div><span class=title>Angular Boilerplate</span></div>"),a.put("components/search/search.html",'<section class="fruit-search container section-container"><header><h3>Shopping Cart Example</h3><p>Start typing to select a fruit you\'d like to buy</p></header><div class="search-bar input-group input-group-lg"><input ng-model=selected placeholder="Choose Fruit" typeahead="fruit.fruitName for fruit in manager.availableFruits() | filter:$viewValue | limitTo:8" typeahead-min-length=0 typeahead-on-select="selectFruit($item); selected=\'\';" class=form-control> <span class=input-group-btn><button class="btn btn-default" type=button><i ng-show=fruit.isLoadingMaterials() class="fa fa-spinner fa-spin"></i> <i ng-hide=fruit.isLoadingMaterials() class="fa fa-search"></i></button></span></div></section>'),a.put("components/selection/selection-item.html",'<!-- material is defined in the scope of the selection-list which imports the selection items --><div class="fruit-panel panel panel-default"><div class=panel-heading>{{fruit.getName()}} <button ng-click=removeFruit(fruit) class="btn btn-danger pull-right" type=""><i class="fa fa-times"></i></button></div><div class=panel-body><div class=fruit-infos><em>Origin: {{fruit.getOrigin()}}</em><br>Price(USD) per {{fruit.getUnit()}}:<label>{{fruit.getPrice().toFixed(2)}}</label><!-- <\n                button class="btn btn-default" type="button" ng-click="startEditing(fruit)">\n                    <i class="fa fa-pencil"></i>\n                </button>\n                 --></div></div></div>'),a.put("components/selection/selection-list.html",'<section class="fruit-selection container section-container" ng-show="manager.selectedFruits().length > 0"><header><h3>Selected Fruits:</h3></header><!-- loop over all selected materials --><div ng-repeat="fruit in manager.selectedFruits()" class=selected-fruit ng-class="{right: isRightIndex($index)}"><!-- panel is included via angular directive and the scope (material) is copied for each loop --><div ng-include="\'components/selection/selection-item.html\'"></div></div></section>')}]);